<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Witaj na mojej stronie</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/lib/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Georgia:wght@400;700&family=Courier+New:wght@400;700&family=Open+Sans:wght@400;700&family=Lato:wght@400;700&family=Montserrat:wght@400;700&family=Poppins:wght@400;700&family=Raleway:wght@400;700&family=Ubuntu:wght@400;700&family=Merriweather:wght@400;700&family=Playfair+Display:wght@400;700&family=Source+Sans+Pro:wght@400;700&family=Noto+Sans:wght@400;700&family=PT+Sans:wght@400;700&family=Oswald:wght@400;700&family=Roboto+Condensed:wght@400;700&family=Lora:wght@400;700&family=Inter:wght@400;700&family=Fira+Sans:wght@400;700&family=Arimo:wght@400;700&family=Dosis:wght@400;700&family=Quicksand:wght@400;700&family=Cabin:wght@400;700&family=Work+Sans:wght@400;700&family=Hind:wght@400;700&family=Titillium+Web:wght@400;700&family=Muli:wght@400;700&family=Nunito:wght@400;700&family=Josefin+Sans:wght@400;700&family=Barlow:wght@400;700&family=Overpass:wght@400;700&family=Rubik:wght@400;700&family=Inconsolata:wght@400;700&display=swap">
  <style>
    body {
      font-family: 'Inter', 'Arial', sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #FFF8E1;
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    body.dark {
      background-color: #2D2D2D;
      color: #E0E0E0;
    }
    header {
      background: linear-gradient(135deg, #005566, #007373);
      color: white;
      width: 100%;
      text-align: center;
      padding: 2em 1em;
      position: relative;
      border-bottom-left-radius: 20px;
      border-bottom-right-radius: 20px;
      transition: background 0.3s ease;
    }
    body.dark header {
      background: linear-gradient(135deg, #1A3C3C, #2A4D4D);
    }
    .header-buttons {
      position: absolute;
      top: 1.5em;
      right: 1.5em;
      display: flex;
      gap: 0.5em;
    }
    .train-toggle {
      width: 60px;
      height: 30px;
      background-color: #A9A9A9;
      border-radius: 15px;
      position: relative;
      border: 2px dashed #000000;
      overflow: hidden;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }
    .train-button {
      width: 30px;
      height: 30px;
      background-color: #B22222;
      border-radius: 10px;
      border: 2px solid #000000;
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(0);
      transition: transform 0.3s ease;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    .train-button::before, .train-button::after {
      content: '';
      position: absolute;
      background-color: #000000;
      width: 6px;
      height: 6px;
      border-radius: 50%;
    }
    .train-button::before {
      bottom: 2px;
      left: 4px;
    }
    .train-button::after {
      bottom: 2px;
      right: 4px;
    }
    .train-button i {
      color: #FFD700;
      font-size: 16px;
      transition: color 0.3s ease;
    }
    .train-button.dark i {
      color: #808080;
    }
    .train-button.dark {
      transform: translateX(20px);
    }
    .train-button.clicked {
      transform: translateX(20px);
    }
    .train-button.clicked.dark {
      transform: translateX(40px);
    }
    .train-button:hover {
      background-color: #8B0000;
      transform: translateX(2px) scale(1.05);
    }
    .train-button.dark:hover {
      transform: translateX(22px) scale(1.05);
    }
    nav {
      margin: 1.5em;
      display: flex;
      gap: 1em;
      flex-wrap: wrap;
      justify-content: center;
    }
    nav a {
      text-decoration: none;
      color: #FFF8E1;
      font-weight: 600;
      background: linear-gradient(135deg, #8B4513, #A0522D);
      padding: 0.6em 1.5em;
      border-radius: 15px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5em;
    }
    body.dark nav a {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
    }
    nav a:hover {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
      transform: translateY(-2px) rotate(2deg);
    }
    body.dark nav a:hover {
      background: linear-gradient(135deg, #3C2F2F, #4A3B3B);
    }
    nav a.youtube {
      background: linear-gradient(135deg, #FF0000, #CC0000);
    }
    body.dark nav a.youtube {
      background: linear-gradient(135deg, #CC0000, #990000);
    }
    nav a.youtube:hover {
      background: linear-gradient(135deg, #CC0000, #990000);
      transform: translateY(-2px) rotate(2deg);
    }
    body.dark nav a.youtube:hover {
      background: linear-gradient(135deg, #990000, #660000);
    }
    nav a.active {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
      transform: scale(1.05);
    }
    body.dark nav a.active {
      background: linear-gradient(135deg, #3C2F2F, #4A3B3B);
    }
    main {
      max-width: 900px;
      padding: 2em;
      text-align: center;
    }
    .section {
      display: none;
      padding: 2em;
      border-radius: 20px;
      background-color: #FFF8E1;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      margin: 1.5em 0;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    body.dark .section {
      background-color: #3C3C3C;
      color: #E0E0E0;
    }
    .section.active {
      display: block;
    }
    .section h2 {
      font-family: 'Roboto', 'Arial', sans-serif;
      color: #333;
      font-size: 2.2em;
      font-weight: 700;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      margin-bottom: 1em;
      transition: color 0.3s ease;
    }
    body.dark .section h2 {
      color: #E0E0E0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    .section p {
      font-family: 'Roboto', 'Arial', sans-serif;
      font-size: 1.2em;
      color: #333;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      transition: color 0.3s ease;
    }
    body.dark .section p {
      color: #E0E0E0;
    }
    .section a {
      color: #A0522D;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease;
    }
    body.dark .section a {
      color: #D2691E;
    }
    .section a:hover {
      text-decoration: underline;
    }
    #posts-container {
      margin-top: 2em;
    }
    .post {
      background-color: #FFF8E1;
      padding: 2em;
      margin: 1.5em 0;
      border-radius: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.01);
      transition: transform 0.3s ease, background-color 0.3s ease;
      max-width: 700px;
      border: 1px solid #A0522D;
      position: relative;
    }
    body.dark .post {
      background-color: #3C3C3C;
      border-color: #D2691E;
    }
    .post:hover {
      transform: translateY(-5px);
    }
    .post:hover .delete-button.admin-visible {
      display: block;
    }
    .post p {
      font-family: 'Roboto', 'Arial', sans-serif;
      font-size: 1.1em;
      margin: 0 0 1em 0;
    }
    .post img {
      max-width: 100%;
      max-height: 400px;
      border-radius: 10px;
      object-fit: cover;
    }
    .post .delete-button {
      position: absolute;
      top: 1em;
      right: 1em;
      background: linear-gradient(135deg, #FF4040, #CC3333);
      color: #FFF8E1;
      border: none;
      padding: 0.5em 1em;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
      display: none;
    }
    body.dark .post .delete-button {
      background: linear-gradient(135deg, #CC3333, #992626);
      color: #E0E0E0;
    }
    .post .delete-button:hover {
      background: linear-gradient(135deg, #CC3333, #992626);
      transform: translateY(-2px);
    }
    body.dark .post .delete-button:hover {
      display: block;
      background: linear-gradient(135deg, #992626, #660000);
    }
    #admin-button, #logout-header-btn {
      background: linear-gradient(135deg, #8B4513, #A0522D);
      color: #FFF8E1;
      border: none;
      padding: 0.6em 1.5em;
      border-radius: 15px;
      cursor: pointer;
      font-weight: 600;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      transition: all 0.3s ease;
    }
    body.dark #admin-button, body.dark #logout-header-btn {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
      color: #E0E0E0;
    }
    #admin-button:hover, #logout-header-btn:hover {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
      transform: translateY(-2px);
    }
    body.dark #admin-button:hover, body.dark #logout-header-btn:hover {
      background: linear-gradient(135deg, #3C2F2F, #4A3B3B);
    }
    #admin-login-modal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) scale(0.95);
      background-color: #ffffff;
      padding: 2em;
      border-radius: 20px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    body.dark #admin-login-modal {
      background-color: #3C3C3C;
      color: #E0E0E0;
    }
    #admin-login-modal.active {
      transform: translate(-50%, -50%) scale(1);
    }
    #admin-panel {
      display: none;
      position: fixed;
      top: 0;
      right: 0;
      width: 300px;
      height: 100%;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 2em;
      border-left: 1px solid #A0522D;
      box-shadow: -4px 0 10px rgba(0, 0, 0, 0.2);
      z-index: 1000;
      overflow-y: auto;
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    body.dark #admin-panel {
      background-color: rgba(60, 60, 60, 0.9);
      border-left-color: #D2691E;
    }
    #admin-panel.active {
      display: block;
    }
    #admin-login-modal input, #admin-panel textarea, #admin-panel input, #admin-panel select {
      width: 100%;
      padding: 0.8em;
      margin: 0.8em 0;
      border: 1px solid #A0522D;
      border-radius: 10px;
      font-family: 'Inter', 'Arial', sans-serif;
      background-color: #ffffff;
      transition: border-color 0.3s ease, background-color 0.3s ease;
    }
    body.dark #admin-login-modal input, body.dark #admin-panel textarea, body.dark #admin-panel input, body.dark #admin-panel select {
      border-color: #D2691E;
      background-color: #4A4A4A;
      color: #E0E0E0;
    }
    #admin-panel .admin-action {
      display: none;
    }
    #admin-panel .admin-action.active {
      display: block;
    }
    #admin-login-modal button, #admin-panel button {
      background: linear-gradient(135deg, #8B4513, #A0522D);
      color: #FFF8E1;
      border: none;
      padding: 0.6em 1.5em;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      margin: 0.5em;
      width: 100%;
      opacity: 0.7;
    }
    body.dark #admin-login-modal button, body.dark #admin-panel button {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
      color: #E0E0E0;
    }
    #admin-login-modal button:hover, #admin-panel button:hover {
      background: linear-gradient(135deg, #5C4033, #7A4F3A);
      transform: translateY(-2px);
      opacity: 1;
    }
    body.dark #admin-login-modal button:hover, body.dark #admin-panel button:hover {
      background: linear-gradient(135deg, #3C2F2F, #4A3B3B);
    }
    #add-post-form {
      padding-bottom: 2em;
    }
    #add-post-form #add-post-button {
      display: none;
    }
    #add-post-form #add-post-button.visible {
      display: block;
    }
    #modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: calc(100% - 300px);
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      z-index: 999;
      transition: background 0.3s ease;
    }
    body.dark #modal-overlay {
      background: rgba(0, 0, 0, 0.8);
    }
  </style>
</head>
<body>
  <header>
    <h1>Witaj na mojej stronie!</h1>
    <div class="header-buttons">
      <div class="train-toggle">
        <button class="train-button" onclick="toggleTheme()"><i class="fas fa-lightbulb"></i></button>
      </div>
      <button id="admin-button" onclick="showAdminPanelOrLogin()">Panel Admina</button>
      <button id="logout-header-btn" onclick="logout()" style="display: none;">Wyloguj</button>
    </div>
  </header>
  <nav>
    <a href="#home" class="active">Strona główna</a>
    <a href="#o-mnie">O mnie</a>
    <a href="#kontakt">Kontakt</a>
    <a href="https://www.youtube.com/@WiejskiMapping" target="_blank" class="youtube"><i class="fab fa-youtube"></i> YouTube</a>
  </nav>
  <main>
    <div id="home" class="section active">
      <h2>Informacje</h2>
      <div id="posts-container"></div>
    </div>
    <div id="o-mnie" class="section">
      <h2>O mnie</h2>
      <p>Witaj! Jestem Ziemniak, prowadzę kanał na YouTube, mam 15 lat i lubię robić fajne rzeczy!</p>
    </div>
    <div id="kontakt" class="section">
      <h2>Kontakt</h2>
      <p>Email: <a href="/cdn-cgi/l/email-protection#24f3ede1eef7efe1f2e1ede5e6e1e9e3b9babb24e3e9e5ede84a474b49"><span class="__cf_email__" data-cfemail="b592dcd0df86ded085ded0d8d5d2dad0cac9c8b5d2d8d4dcd99bd6dad8">[email&#160;protected]</span></a></p>
      <p>Discord: <a href="https://discord.com/users/grandtheftvii" target="_blank">grandtheftvii</a></p>
    </div>
  </main>
  <div id="modal-overlay"></div>
  <div id="admin-login-modal">
    <h3>Zaloguj się do panelu admina</h3>
    <input type="password" id="admin-password" placeholder="Wpisz hasło">
    <button onclick="checkAdminPassword()">Zaloguj</button>
  </div>
  <div id="admin-panel" style="display: none;">
    <h3>Panel Admina</h3>
    <button id="add-post-btn" onclick="showAddPostForm()">Dodaj post</button>
    <button id="add-image-btn" onclick="showAddImageForm()">Dodaj zdjęcie</button>
    <button id="close-panel-btn" onclick="closeAdminPanel()">Zamknij</button>
    <button id="logout-btn" onclick="logout()">Wyloguj</button>
    <div id="add-post-form" class="admin-action">
      <textarea id="post-text" placeholder="Wpisz treść posta" rows="4"></textarea>
      <select id="post-font" name="post-font">
        <option value="Roboto">Roboto (Sans-serif)</option>
        <option value="Georgia">Georgia (Serif)</option>
        <option value="Courier New">Courier New (Monospace)</option>
        <option value="Open Sans">Open Sans (Sans-serif)</option>
        <option value="Lato">Lato (Sans-serif)</option>
        <option value="Montserrat">Montserrat (Sans-serif)</option>
        <option value="Poppins">Poppins (Sans-serif)</option>
        <option value="Raleway">Raleway (Sans-serif)</option>
        <option value="Ubuntu">Ubuntu (Sans-serif)</option>
        <option value="Merriweather">Merriweather (Serif)</option>
        <option value="Playfair Display">Playfair Display (Serif)</option>
        <option value="Source Sans Pro">Source Sans Pro (Sans-serif)</option>
        <option value="Noto Sans">Noto Sans (Sans-serif)</option>
        <option value="PT Sans">PT Sans (Sans-serif)</option>
        <option value="Oswald">Oswald (Sans-serif)</option>
        <option value="Roboto Condensed">Roboto Condensed (Sans-serif)</option>
        <option value="Lora">Lora (Serif)</option>
        <option value="Inter">Inter (Sans-serif)</option>
        <option value="Fira Sans">Fira Sans (Sans-serif)</option>
        <option value="Arimo">Arimo (Sans-serif)</option>
        <option value="Dosis">Dosis (Sans-serif)</option>
        <option value="Quicksand">Quicksand (Sans-serif)</option>
        <option value="Cabin">Cabin (Sans-serif)</option>
        <option value="Work Sans">Work Sans (Sans-serif)</option>
        <option value="Hind">Hind (Sans-serif)</option>
        <option value="Titillium Web">Titillium Web (Sans-serif)</option>
        <option value="Muli">Muli (Sans-serif)</option>
        <option value="Nunito">Nunito (Sans-serif)</option>
        <option value="Josefin Sans">Josefin Sans (Sans-serif)</option>
        <option value="Barlow">Barlow (Sans-serif)</option>
        <option value="Overpass">Overpass (Sans-serif)</option>
        <option value="Rubik">Rubik (Sans-serif)</option>
        <option value="Inconsolata">Inconsolata (Monospace)</option>
      </select>
      <select id="post-size" name="post-size">
        <option value="0.9em">Mały (0.9em)</option>
        <option value="1.1em" selected>Średni (1.1em)</option>
        <option value="1.3em">Duży (1.3em)</option>
      </select>
      <input type="color" id="post-color" value="#333333">
      <button id="add-post-button" onclick="addPost()">Dodaj</button>
    </div>
    <div id="add-image-form" class="admin-action">
      <input type="file" id="post-image" accept="image/*">
      <button onclick="addImage()">Dodaj</button>
    </div>
  </div>
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
  <script>
    let isAdminLoggedIn = localStorage.getItem('isAdminLoggedIn') === 'true';

    // Color mapping for dark/light mode
    const colorMap = {
      '#000000': '#FFFFFF', '#FFFFFF': '#000000', // Black ↔ White
      '#333333': '#E0E0E0', '#E0E0E0': '#333333', // Dark gray ↔ Light gray
      '#00008B': '#ADD8E6', '#ADD8E6': '#00008B', // Dark blue ↔ Light blue
      '#8B0000': '#FFB6C1', '#FFB6C1': '#8B0000', // Dark red ↔ Light pink
      '#006400': '#90EE90', '#90EE90': '#006400'  // Dark green ↔ Light green
    };

    function mapColor(color) {
      const isDarkMode = document.body.classList.contains('dark');
      if (isDarkMode) {
        // In dark mode, map light colors to dark counterparts
        return colorMap[color] && colorMap[color].startsWith('#0', '#3', '#8') ? colorMap[color] : colorMap[color] || color;
      } else {
        // In light mode, map dark colors to light counterparts
        return Object.keys(colorMap).find(key => colorMap[key] === color && key.startsWith('#0', '#3', '#8')) || colorMap[color] || color;
      }
    }

    // Theme handling
    function loadTheme() {
      const theme = localStorage.getItem('theme') || 'light';
      document.body.className = theme === 'dark' ? 'dark' : '';
      const trainButton = document.querySelector('.train-button');
      trainButton.classList.toggle('dark', theme === 'dark');
      loadPosts(); // Reload posts to apply color mapping
    }

    function toggleTheme() {
      const trainButton = document.querySelector('.train-button');
      trainButton.classList.add('clicked');
      setTimeout(() => trainButton.classList.remove('clicked'), 200);
      document.body.classList.toggle('dark');
      trainButton.classList.toggle('dark');
      const isDark = document.body.classList.contains('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      loadPosts(); // Reload posts to update colors
    }

    // Navigation handling
    document.querySelectorAll('nav a').forEach(link => {
      link.addEventListener('click', (e) => {
        const href = link.getAttribute('href');
        if (href.startsWith('#')) {
          e.preventDefault();
          const targetId = href.substring(1);
          if (targetId === 'home' || targetId === 'o-mnie' || targetId === 'kontakt') {
            document.querySelectorAll('.section').forEach(section => {
              section.classList.remove('active');
            });
            document.querySelectorAll('nav a').forEach(navLink => {
              navLink.classList.remove('active');
            });
            document.getElementById(targetId).classList.add('active');
            link.classList.add('active');
          }
        }
      });
    });

    // Save posts to localStorage
    function savePosts() {
      const postsContainer = document.getElementById('posts-container');
      const posts = [];
      postsContainer.querySelectorAll('.post').forEach(post => {
        const textElement = post.querySelector('p');
        const imgElement = post.querySelector('img');
        const postId = post.getAttribute('data-id');
        if (textElement) {
          posts.push({
            id: postId,
            type: 'text',
            content: textElement.textContent,
            font: textElement.style.fontFamily,
            size: textElement.style.fontSize,
            color: textElement.style.color
          });
        } else if (imgElement) {
          posts.push({
            id: postId,
            type: 'image',
            dataUrl: imgElement.src
          });
        }
      });
      localStorage.setItem('posts', JSON.stringify(posts));
    }

    // Load posts from localStorage
    function loadPosts() {
      const postsContainer = document.getElementById('posts-container');
      const posts = JSON.parse(localStorage.getItem('posts') || '[]');
      postsContainer.innerHTML = ''; // Clear existing posts
      posts.reverse().forEach(post => { // Reverse to maintain order (newest first)
        const postDiv = document.createElement('div');
        postDiv.className = 'post';
        postDiv.setAttribute('data-id', post.id);
        if (post.type === 'text') {
          const textElement = document.createElement('p');
          textElement.textContent = post.content;
          textElement.style.fontFamily = post.font;
          textElement.style.fontSize = post.size;
          textElement.style.color = mapColor(post.color || '#333333');
          postDiv.appendChild(textElement);
        } else if (post.type === 'image') {
          const imgElement = document.createElement('img');
          imgElement.src = post.dataUrl;
          postDiv.appendChild(imgElement);
        }
        const deleteButton = document.createElement('button');
        deleteButton.className = 'delete-button';
        deleteButton.textContent = 'Usuń';
        deleteButton.onclick = () => {
          postDiv.remove();
          savePosts();
        };
        deleteButton.classList.toggle('admin-visible', isAdminLoggedIn);
        postDiv.appendChild(deleteButton);
        postsContainer.prepend(postDiv);
      });
    }

    // Ensure home is active, check admin login status, and load theme on page load
    window.addEventListener('load', () => {
      document.getElementById('home').classList.add('active');
      document.querySelector('nav a[href="#home"]').classList.add('active');
      if (isAdminLoggedIn) {
        document.getElementById('admin-button').style.display = 'none';
        document.getElementById('logout-header-btn').style.display = 'block';
        updateDeleteButtonsVisibility();
      } else {
        document.getElementById('admin-button').style.display = 'block';
        document.getElementById('logout-header-btn').style.display = 'none';
      }
      loadPosts(); // Load saved posts
      loadTheme(); // Load saved theme
      updateAddPostButtonVisibility(); // Initialize button visibility
    });

    function showAdminPanelOrLogin() {
      if (isAdminLoggedIn) {
        const panel = document.getElementById('admin-panel');
        panel.style.display = 'block';
        panel.classList.add('active');
        document.getElementById('modal-overlay').style.display = 'block';
      } else {
        showAdminLogin();
      }
    }

    function showAdminLogin() {
      const modal = document.getElementById('admin-login-modal');
      modal.style.display = 'block';
      modal.classList.add('active');
      document.getElementById('modal-overlay').style.display = 'block';
      document.getElementById('admin-password').focus();
    }

    function checkAdminPassword() {
      const password = document.getElementById('admin-password').value;
      if (password === 'Ziemniak') {
        isAdminLoggedIn = true;
        localStorage.setItem('isAdminLoggedIn', 'true');
        document.getElementById('admin-login-modal').style.display = 'none';
        document.getElementById('modal-overlay').style.display = 'none';
        document.getElementById('admin-button').style.display = 'none';
        document.getElementById('logout-header-btn').style.display = 'block';
        const panel = document.getElementById('admin-panel');
        panel.style.display = 'block';
        panel.classList.add('active');
        updateDeleteButtonsVisibility();
      } else {
        alert('Niepoprawne hasło!');
      }
    }

    function logout() {
      isAdminLoggedIn = false;
      localStorage.setItem('isAdminLoggedIn', 'false');
      const panel = document.getElementById('admin-panel');
      panel.style.display = 'none';
      panel.classList.remove('active');
      document.getElementById('modal-overlay').style.display = 'none';
      document.getElementById('admin-button').style.display = 'block';
      document.getElementById('logout-header-btn').style.display = 'none';
      document.getElementById('admin-password').value = '';
      document.getElementById('post-text').value = '';
      document.getElementById('post-image').value = '';
      document.getElementById('post-font').value = 'Roboto';
      document.getElementById('post-size').value = '1.1em';
      document.getElementById('post-color').value = '#333333';
      updateDeleteButtonsVisibility();
      hideAdminForms();
    }

    function closeAdminPanel() {
      const panel = document.getElementById('admin-panel');
      panel.style.display = 'none';
      panel.classList.remove('active');
      document.getElementById('modal-overlay').style.display = 'none';
      document.getElementById('post-text').value = '';
      document.getElementById('post-image').value = '';
      document.getElementById('post-font').value = 'Roboto';
      document.getElementById('post-size').value = '1.1em';
      document.getElementById('post-color').value = '#333333';
      hideAdminForms();
    }

    function updateDeleteButtonsVisibility() {
      const deleteButtons = document.querySelectorAll('.post .delete-button');
      deleteButtons.forEach(button => {
        button.classList.toggle('admin-visible', isAdminLoggedIn);
      });
    }

    function showAddPostForm() {
      document.getElementById('add-post-form').classList.add('active');
      document.getElementById('add-image-form').classList.remove('active');
      updateAddPostButtonVisibility();
    }

    function showAddImageForm() {
      document.getElementById('add-image-form').classList.add('active');
      document.getElementById('add-post-form').classList.remove('active');
    }

    function hideAdminForms() {
      document.getElementById('add-post-form').classList.remove('active');
      document.getElementById('add-image-form').classList.remove('active');
    }

    function updateAddPostButtonVisibility() {
      const postText = document.getElementById('post-text').value.trim();
      const addPostButton = document.getElementById('add-post-button');
      addPostButton.classList.toggle('visible', postText.length > 0);
    }

    function addPost() {
      const text = document.getElementById('post-text').value;
      const font = document.getElementById('post-font').value;
      const size = document.getElementById('post-size').value;
      const color = document.getElementById('post-color').value;
      const postsContainer = document.getElementById('posts-container');
      
      if (text) {
        const postId = Date.now().toString();
        const postDiv = document.createElement('div');
        postDiv.className = 'post';
        postDiv.setAttribute('data-id', postId);
        const textElement = document.createElement('p');
        textElement.textContent = text;
        textElement.style.fontFamily = font;
        textElement.style.fontSize = size;
        textElement.style.color = mapColor(color);
        postDiv.appendChild(textElement);
        const deleteButton = document.createElement('button');
        deleteButton.className = 'delete-button';
        deleteButton.textContent = 'Usuń';
        deleteButton.onclick = () => {
          postDiv.remove();
          savePosts();
        };
        deleteButton.classList.toggle('admin-visible', isAdminLoggedIn);
        postDiv.appendChild(deleteButton);
        postsContainer.prepend(postDiv);
        document.getElementById('post-text').value = '';
        document.getElementById('post-font').value = 'Roboto';
        document.getElementById('post-size').value = '1.1em';
        document.getElementById('post-color').value = '#333333';
        savePosts();
        hideAdminForms();
        updateAddPostButtonVisibility();
      } else {
        alert('Wpisz treść posta!');
      }
    }

    function addImage() {
      const image = document.getElementById('post-image').files[0];
      const postsContainer = document.getElementById('posts-container');
      
      if (image) {
        const postId = Date.now().toString();
        const reader = new FileReader();
        reader.onload = function(e) {
          const postDiv = document.createElement('div');
          postDiv.className = 'post';
          postDiv.setAttribute('data-id', postId);
          const imgElement = document.createElement('img');
          imgElement.src = e.target.result;
          postDiv.appendChild(imgElement);
          const deleteButton = document.createElement('button');
          deleteButton.className = 'delete-button';
          deleteButton.textContent = 'Usuń';
          deleteButton.onclick = () => {
            postDiv.remove();
            savePosts();
          };
          deleteButton.classList.toggle('admin-visible', isAdminLoggedIn);
          postDiv.appendChild(deleteButton);
          postsContainer.prepend(postDiv);
          savePosts();
        };
        reader.readAsDataURL(image);
        document.getElementById('post-image').value = '';
        hideAdminForms();
      } else {
        alert('Wybierz zdjęcie!');
      }
    }

    // Add event listener to update button visibility when typing
    document.getElementById('post-text').addEventListener('input', updateAddPostButtonVisibility);
  </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f0e1a96f02b032',t:'MTc1MjQ5NDY1NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f0eed01fcbbd17',t:'MTc1MjQ5NTE5My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f0f47f1962b0a0',t:'MTc1MjQ5NTQyNi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f0f889ceb1b007',t:'MTc1MjQ5NTU5Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading' !==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f0fd8de950071d',t:'MTc1MjQ5NTc5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f10409eef5ed8b',t:'MTc1MjQ5NjA2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f10e62fdd8bcf6',t:'MTc1MjQ5NjQ4Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f1159a082fb0a6',t:'MTc1MjQ5Njc4Mi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f11cd8f99fbfb6',t:'MTc1MjQ5NzA3OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f17a088c3532f9',t:'MTc1MjUwMDg5Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f191c8cc63d99d',t:'MTc1MjUwMTg2OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f32fd5ae5dd6f7',t:'MTc1MjUxODgyOC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f33a066ebda62c',t:'MTc1MjUxOTI0NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f38373fcccd47f',t:'MTc1MjUyMjI1My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'95f38b724e6c1697',t:'MTc1MjUyMjU4MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>